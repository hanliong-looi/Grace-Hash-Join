(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{156:function(e,c,t){},158:function(e,c,t){},228:function(e,c,t){},229:function(e,c,t){"use strict";t.r(c);var n=t(0),r=t.n(n),i=t(27),a=t.n(i),s=(t(156),t(32)),l=t(232),j=t(235),h=t(236),d=t(55),o=t(234),b=t.p+"media/favicon.4587ce60.png",x=t(143),O=t(116),g=t(233),p=t(145),u=t(237),m=t(150),y=t(106),_=t(149),f=(t(158),t(8)),v=l.a.Title,k=g.a.TextArea,S=function(){var e=Object(n.useState)(""),c=Object(s.a)(e,2),t=c[0],r=c[1],i=Object(n.useState)(""),a=Object(s.a)(i,2),l=a[0],j=a[1],h=Object(n.useState)([]),o=Object(s.a)(h,2),b=o[0],g=o[1],S=Object(n.useState)(!1),P=Object(s.a)(S,2),T=P[0],C=P[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"main-container",children:[Object(f.jsxs)("div",{className:"sql-container",children:[Object(f.jsx)(v,{level:3,children:"Query Panel"}),Object(f.jsx)(x.a,{value:t,height:"280px",onChange:function(e){return r(e)},extensions:[Object(O.b)({dialect:O.a})],placeholder:"Input SQL Query here"}),Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:20},children:[Object(f.jsx)(d.a,{size:"large",type:"primary",onClick:function(){t.length<1?p.b.error("SQL Query must not be empty"):fetch("/api/get_query",{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})}).then((function(e){return e.json()})).then((function(e){if(j(""),C(!1),g([]),0===e.error){e.error_message&&p.b.warn(e.error_message);var c=e.instructions,t="";console.log(e.instructions);for(var n=0;n<c.length;n++)t+="Step ".concat(n+1,": ").concat(c[n]," \n");j(t),function(e){var c=[],t=[],n=e.Plan,r=0,i=Math.floor(window.innerWidth/2)-115;console.log(JSON.stringify(e)),function e(n,a,s,l){var j=r;r++,c.push({id:"".concat(j),data:{label:n["Node Type"]},position:{x:a+i,y:s},draggable:!1,type:"default"}),void 0!==l&&t.push({id:"".concat(l,"-").concat(j),type:"straight",source:"".concat(l),target:"".concat(j)}),void 0!==n.Plans&&(1===n.Plans.length?e(n.Plans[0],a,s+100,j):2===n.Plans.length&&(e(n.Plans[0],a-125,s+75,j),e(n.Plans[1],a+125,s+75,j)))}(n,0,10),g([].concat(c,t))}(e.plan)}else p.b.error(e.error_message)}))},children:"Annotate"}),Object(f.jsx)(d.a,{size:"large",style:{marginLeft:10},onClick:function(){r(""),j(""),g([]),C(!1)},children:"Clear"})]})]}),Object(f.jsxs)("div",{className:"plan-container",children:[Object(f.jsx)("div",{className:"exe-plan",children:Object(f.jsxs)(v,{level:3,children:["Execution Plan",""!==l&&Object(f.jsx)(m.a,{style:{marginLeft:7,marginTop:-2,cursor:"pointer",fontSize:17},onClick:function(){l&&navigator.clipboard.writeText(l).then((function(){p.b.info("Successfully Copied Text")}))}})]})}),Object(f.jsx)(k,{value:l,style:{height:280}}),0!==b.length&&Object(f.jsx)(d.a,{size:"large",type:"primary",style:{marginTop:20},onClick:function(){C(!0)},children:"Visualise"})]})]}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:20},children:[Object(f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(f.jsx)(v,{level:3,children:"Visualisation Panel"}),Object(f.jsx)(u.a,{content:"You can interact with the graph using pinch to zoom and dragging left and right.",children:Object(f.jsx)(y.a,{style:{marginLeft:4,fontSize:17,marginTop:-10}})})]}),T&&Object(f.jsx)(_.a,{elements:b,style:{height:400}})]})]})},P=(t(228),l.a.Title),T=l.a.Paragraph,C=j.a.Header,w=h.a.Panel,L=function(){var e=Object(n.useState)(!1),c=Object(s.a)(e,2),t=c[0],r=c[1];return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)(C,{style:{display:"flex",alignItems:"center",backgroundColor:"#fff",boxShadow:"0 2px 8px #f0f1f2"},children:[Object(f.jsx)("img",{src:b,alt:"doge",style:{width:32,height:32}}),Object(f.jsx)(P,{style:{marginBottom:0,marginLeft:6},level:2,children:"QEP Annotator - Group 41"}),Object(f.jsx)(d.a,{style:{marginLeft:21,marginTop:3},onClick:function(){r(!0)},size:"middle",children:"Database Schema"})]}),Object(f.jsx)("div",{style:{padding:"20px 40px"},children:Object(f.jsx)(S,{})}),Object(f.jsx)(o.a,{cancelButtonProps:{style:{visibility:"hidden"}},title:"TPC-H Database Schema",visible:t,onOk:function(){r(!1)},onCancel:function(){r(!1)},children:Object(f.jsxs)(h.a,{children:[Object(f.jsxs)(w,{header:"customer",children:[Object(f.jsx)(T,{children:"c_custkey (integer)"}),Object(f.jsx)(T,{children:"c_name (character varying)"}),Object(f.jsx)(T,{children:"c_address (character varying)"}),Object(f.jsx)(T,{children:"c_nationkey (integer)"}),Object(f.jsx)(T,{children:"c_phone (character)"}),Object(f.jsx)(T,{children:"c_acctbal (numeric)"}),Object(f.jsx)(T,{children:"c_mktsegment (character)"}),Object(f.jsx)(T,{children:"c_comment (character varying)"})]},"1"),Object(f.jsxs)(w,{header:"lineitem",children:[Object(f.jsx)(T,{children:"l_orderkey (integer)"}),Object(f.jsx)(T,{children:"l_partkey (integer)"}),Object(f.jsx)(T,{children:"l_suppkey (integer)"}),Object(f.jsx)(T,{children:"l_linenumber (integer)"}),Object(f.jsx)(T,{children:"l_quantity (numric)"}),Object(f.jsx)(T,{children:"l_extendedprice (numeric)"}),Object(f.jsx)(T,{children:"l_discount (numeric)"}),Object(f.jsx)(T,{children:"l_tax (numeric)"}),Object(f.jsx)(T,{children:"l_returnflag (character)"}),Object(f.jsx)(T,{children:"l_linestatus (character)"}),Object(f.jsx)(T,{children:"l_shipdate (date)"}),Object(f.jsx)(T,{children:"l_commitdate (date)"}),Object(f.jsx)(T,{children:"l_receiptdate (date)"}),Object(f.jsx)(T,{children:"l_shipinstruct (character)"}),Object(f.jsx)(T,{children:"l_shipmode (character)"}),Object(f.jsx)(T,{children:"l_comment (character varying)"})]},"2"),Object(f.jsxs)(w,{header:"nation",children:[Object(f.jsx)(T,{children:"n_nationkey (integer)"}),Object(f.jsx)(T,{children:"n_name (character)"}),Object(f.jsx)(T,{children:"n_regionkey (integer)"}),Object(f.jsx)(T,{children:"n_comment (character varying)"})]},"3"),Object(f.jsxs)(w,{header:"orders",children:[Object(f.jsx)(T,{children:"o_orderkey (integer)"}),Object(f.jsx)(T,{children:"o_custkey (integer)"}),Object(f.jsx)(T,{children:"o_orderstatus (character)"}),Object(f.jsx)(T,{children:"o_totalprice (numeric)"}),Object(f.jsx)(T,{children:"o_orderdate (date)"}),Object(f.jsx)(T,{children:"o_orderpriority (character)"}),Object(f.jsx)(T,{children:"o_clerk (character)"}),Object(f.jsx)(T,{children:"o_shippriority (integer)"}),Object(f.jsx)(T,{children:"o_comment (character varying)"})]},"4"),Object(f.jsxs)(w,{header:"part",children:[Object(f.jsx)(T,{children:"p_partkey (integer)"}),Object(f.jsx)(T,{children:"p_name (character varying)"}),Object(f.jsx)(T,{children:"p_mfgr (character)"}),Object(f.jsx)(T,{children:"p_brand (character)"}),Object(f.jsx)(T,{children:"p_type (character varying)"}),Object(f.jsx)(T,{children:"p_size (integer)"}),Object(f.jsx)(T,{children:"p_container (character)"}),Object(f.jsx)(T,{children:"p_retailprice (numeric)"}),Object(f.jsx)(T,{children:"p_comment (character varying)"})]},"5"),Object(f.jsxs)(w,{header:"partsupp",children:[Object(f.jsx)(T,{children:"ps_partkey (integer)"}),Object(f.jsx)(T,{children:"ps_suppkey (integer)"}),Object(f.jsx)(T,{children:"ps_availqty (integer)"}),Object(f.jsx)(T,{children:"ps_supplycost (numeric)"}),Object(f.jsx)(T,{children:"ps_comment (character varying)"})]},"6"),Object(f.jsxs)(w,{header:"region",children:[Object(f.jsx)(T,{children:"r_regionkey (integer)"}),Object(f.jsx)(T,{children:"r_name (character)"}),Object(f.jsx)(T,{children:"r_comment (character varying)"})]},"7"),Object(f.jsxs)(w,{header:"supplier",children:[Object(f.jsx)(T,{children:"s_suppkey (integer)"}),Object(f.jsx)(T,{children:"s_name (character)"}),Object(f.jsx)(T,{children:"s_address (character varying)"}),Object(f.jsx)(T,{children:"s_nationkey (integer)"}),Object(f.jsx)(T,{children:"s_phone (character)"}),Object(f.jsx)(T,{children:"s_acctbal (numeric)"}),Object(f.jsx)(T,{children:"s_mktsegment (character)"}),Object(f.jsx)(T,{children:"s_comment (character varying)"})]},"8")]})})]})},z=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,238)).then((function(c){var t=c.getCLS,n=c.getFID,r=c.getFCP,i=c.getLCP,a=c.getTTFB;t(e),n(e),r(e),i(e),a(e)}))};a.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(L,{})}),document.getElementById("root")),z()}},[[229,1,2]]]);
//# sourceMappingURL=main.c86c9570.chunk.js.map