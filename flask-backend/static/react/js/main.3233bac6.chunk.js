(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{139:function(e,t,n){},141:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(26),o=n.n(i),s=(n(139),n(214)),r=n(30),l=n(128),u=n(101),j=n(215),h=n(130),d=n(131),b=n(133),p=(n(141),n(21)),g=s.a.Title,O=j.a.TextArea,x=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),o=Object(r.a)(i,2),s=o[0],j=o[1],x=Object(c.useState)([]),y=Object(r.a)(x,2),f=y[0],m=y[1],v=Object(c.useState)(!1),P=Object(r.a)(v,2),S=P[0],T=P[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"main-container",children:[Object(p.jsxs)("div",{className:"sql-container",children:[Object(p.jsx)(g,{level:3,children:"SQL Query"}),Object(p.jsx)(l.a,{value:n,height:"300px",onChange:function(e){return a(e)},extensions:[Object(u.b)({dialect:u.a})],placeholder:"Input SQL Query here"}),Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:20},children:[Object(p.jsx)(d.a,{type:"primary",onClick:function(){n.length<1?h.b.error("SQL Query must not be empty"):fetch("/api/get_query",{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n})}).then((function(e){return e.json()})).then((function(e){if(j(""),T(!1),m([]),0===e.error){var t=e.instructions,n="";console.log(e.instructions);for(var c=0;c<t.length;c++)n+="Step ".concat(c+1,": ").concat(t[c]," \n");j(n),function(e){var t=[],n=[],c=e.Plan,a=0,i=Math.floor(window.innerWidth/2)-115;console.log(e),function e(c,o,s,r){var l=a;a++,t.push({id:"".concat(l),data:{label:c["Node Type"]},position:{x:o+i,y:s},type:"default"}),void 0!==r&&n.push({id:"".concat(r,"-").concat(l),type:"straight",source:"".concat(r),target:"".concat(l)}),void 0!==c.Plans&&(1===c.Plans.length?e(c.Plans[0],o,s+100,l):2===c.Plans.length&&(e(c.Plans[0],o-125,s+100,l),e(c.Plans[1],o+125,s+100,l)))}(c,0,10),console.log("created graph",[].concat(t,n)),m([].concat(t,n))}(e.plan)}else h.b.error(e.error_message)}))},children:"Annotate Query"}),Object(p.jsx)(d.a,{style:{marginLeft:10},onClick:function(){a(""),j(""),m([]),T(!1)},children:"Clear"})]})]}),Object(p.jsxs)("div",{className:"plan-container",children:[Object(p.jsx)(g,{level:3,children:"Execution Plan"}),Object(p.jsx)(O,{value:s,style:{height:300}}),0!==f.length&&Object(p.jsx)(d.a,{type:"primary",style:{marginTop:20},onClick:function(){T(!0)},children:"Visualise"})]})]}),S&&Object(p.jsx)("div",{children:Object(p.jsx)(b.a,{elements:f,style:{height:400,marginTop:20}})})]})},y=(n(211),s.a.Title),f=function(){return Object(p.jsxs)("div",{className:"App",style:{padding:"20px 40px"},children:[Object(p.jsx)(y,{children:"Query Execution Plan Annotator - Group 41"}),Object(p.jsx)(x,{})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,216)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(f,{})}),document.getElementById("root")),m()}},[[212,1,2]]]);
//# sourceMappingURL=main.3233bac6.chunk.js.map