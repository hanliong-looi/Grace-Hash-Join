(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{156:function(e,c,t){},158:function(e,c,t){},228:function(e,c,t){},229:function(e,c,t){"use strict";t.r(c);var n=t(0),r=t.n(n),i=t(27),a=t.n(i),s=(t(156),t(32)),l=t(232),j=t(235),h=t(236),d=t(55),o=t(234),b=t(143),x=t(116),O=t(233),p=t(145),g=t(237),u=t(150),m=t(106),y=t(149),_=(t(158),t(8)),f=l.a.Title,v=O.a.TextArea,k=function(){var e=Object(n.useState)(""),c=Object(s.a)(e,2),t=c[0],r=c[1],i=Object(n.useState)(""),a=Object(s.a)(i,2),l=a[0],j=a[1],h=Object(n.useState)([]),o=Object(s.a)(h,2),O=o[0],k=o[1],S=Object(n.useState)(!1),P=Object(s.a)(S,2),T=P[0],C=P[1];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"main-container",children:[Object(_.jsxs)("div",{className:"sql-container",children:[Object(_.jsx)(f,{level:3,children:"Query Panel"}),Object(_.jsx)(b.a,{value:t,height:"280px",onChange:function(e){return r(e)},extensions:[Object(x.b)({dialect:x.a})],placeholder:"Input SQL Query here"}),Object(_.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:20},children:[Object(_.jsx)(d.a,{size:"large",type:"primary",onClick:function(){t.length<1?p.b.error("SQL Query must not be empty"):fetch("/api/get_query",{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})}).then((function(e){return e.json()})).then((function(e){if(j(""),C(!1),k([]),0===e.error){e.error_message&&p.b.warn(e.error_message);var c=e.instructions,t="";console.log(e.instructions);for(var n=0;n<c.length;n++)t+="Step ".concat(n+1,": ").concat(c[n]," \n");j(t),function(e){var c=[],t=[],n=e.Plan,r=0,i=Math.floor(window.innerWidth/2)-115;console.log(JSON.stringify(e)),function e(n,a,s,l){var j=r;r++,c.push({id:"".concat(j),data:{label:n["Node Type"]},position:{x:a+i,y:s},draggable:!1,type:"default"}),void 0!==l&&t.push({id:"".concat(l,"-").concat(j),type:"straight",source:"".concat(l),target:"".concat(j)}),void 0!==n.Plans&&(1===n.Plans.length?e(n.Plans[0],a,s+100,j):2===n.Plans.length&&(e(n.Plans[0],a-125,s+75,j),e(n.Plans[1],a+125,s+75,j)))}(n,0,10),k([].concat(c,t))}(e.plan)}else p.b.error(e.error_message)}))},children:"Annotate"}),Object(_.jsx)(d.a,{size:"large",style:{marginLeft:10},onClick:function(){r(""),j(""),k([]),C(!1)},children:"Clear"})]})]}),Object(_.jsxs)("div",{className:"plan-container",children:[Object(_.jsx)("div",{className:"exe-plan",children:Object(_.jsxs)(f,{level:3,children:["Execution Plan",""!==l&&Object(_.jsx)(u.a,{style:{marginLeft:7,marginTop:-2,cursor:"pointer",fontSize:17},onClick:function(){l&&navigator.clipboard.writeText(l).then((function(){p.b.info("Successfully Copied Text")}))}})]})}),Object(_.jsx)(v,{value:l,style:{height:280}}),0!==O.length&&Object(_.jsx)(d.a,{size:"large",type:"primary",style:{marginTop:20},onClick:function(){C(!0)},children:"Visualise"})]})]}),Object(_.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:20},children:[Object(_.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(_.jsx)(f,{level:3,children:"Visualisation Panel"}),Object(_.jsx)(g.a,{content:"You can interact with the graph using pinch to zoom and dragging left and right.",children:Object(_.jsx)(m.a,{style:{marginLeft:4,fontSize:17,marginTop:-10}})})]}),T&&Object(_.jsx)(y.a,{elements:O,style:{height:400}})]})]})},S=(t(228),l.a.Title),P=l.a.Paragraph,T=j.a.Header,C=h.a.Panel,w=function(){var e=Object(n.useState)(!1),c=Object(s.a)(e,2),t=c[0],r=c[1];return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsxs)(T,{style:{display:"flex",alignItems:"center",backgroundColor:"#fff",boxShadow:"0 2px 8px #f0f1f2"},children:[Object(_.jsx)(S,{style:{marginBottom:0},level:2,children:"QEP Annotator - Group 41"}),Object(_.jsx)(d.a,{style:{marginLeft:21,marginTop:3},onClick:function(){r(!0)},size:"middle",children:"Database Schema"})]}),Object(_.jsx)("div",{style:{padding:"20px 40px"},children:Object(_.jsx)(k,{})}),Object(_.jsx)(o.a,{cancelButtonProps:{style:{visibility:"hidden"}},title:"TPC-H Database Schema",visible:t,onOk:function(){r(!1)},onCancel:function(){r(!1)},children:Object(_.jsxs)(h.a,{children:[Object(_.jsxs)(C,{header:"customer",children:[Object(_.jsx)(P,{children:"c_custkey (integer)"}),Object(_.jsx)(P,{children:"c_name (character varying)"}),Object(_.jsx)(P,{children:"c_address (character varying)"}),Object(_.jsx)(P,{children:"c_nationkey (integer)"}),Object(_.jsx)(P,{children:"c_phone (character)"}),Object(_.jsx)(P,{children:"c_acctbal (numeric)"}),Object(_.jsx)(P,{children:"c_mktsegment (character)"}),Object(_.jsx)(P,{children:"c_comment (character varying)"})]},"1"),Object(_.jsxs)(C,{header:"lineitem",children:[Object(_.jsx)(P,{children:"l_orderkey (integer)"}),Object(_.jsx)(P,{children:"l_partkey (integer)"}),Object(_.jsx)(P,{children:"l_suppkey (integer)"}),Object(_.jsx)(P,{children:"l_linenumber (integer)"}),Object(_.jsx)(P,{children:"l_quantity (numric)"}),Object(_.jsx)(P,{children:"l_extendedprice (numeric)"}),Object(_.jsx)(P,{children:"l_discount (numeric)"}),Object(_.jsx)(P,{children:"l_tax (numeric)"}),Object(_.jsx)(P,{children:"l_returnflag (character)"}),Object(_.jsx)(P,{children:"l_linestatus (character)"}),Object(_.jsx)(P,{children:"l_shipdate (date)"}),Object(_.jsx)(P,{children:"l_commitdate (date)"}),Object(_.jsx)(P,{children:"l_receiptdate (date)"}),Object(_.jsx)(P,{children:"l_shipinstruct (character)"}),Object(_.jsx)(P,{children:"l_shipmode (character)"}),Object(_.jsx)(P,{children:"l_comment (character varying)"})]},"2"),Object(_.jsxs)(C,{header:"nation",children:[Object(_.jsx)(P,{children:"n_nationkey (integer)"}),Object(_.jsx)(P,{children:"n_name (character)"}),Object(_.jsx)(P,{children:"n_regionkey (integer)"}),Object(_.jsx)(P,{children:"n_comment (character varying)"})]},"3"),Object(_.jsxs)(C,{header:"orders",children:[Object(_.jsx)(P,{children:"o_orderkey (integer)"}),Object(_.jsx)(P,{children:"o_custkey (integer)"}),Object(_.jsx)(P,{children:"o_orderstatus (character)"}),Object(_.jsx)(P,{children:"o_totalprice (numeric)"}),Object(_.jsx)(P,{children:"o_orderdate (date)"}),Object(_.jsx)(P,{children:"o_orderpriority (character)"}),Object(_.jsx)(P,{children:"o_clerk (character)"}),Object(_.jsx)(P,{children:"o_shippriority (integer)"}),Object(_.jsx)(P,{children:"o_comment (character varying)"})]},"4"),Object(_.jsxs)(C,{header:"part",children:[Object(_.jsx)(P,{children:"p_partkey (integer)"}),Object(_.jsx)(P,{children:"p_name (character varying)"}),Object(_.jsx)(P,{children:"p_mfgr (character)"}),Object(_.jsx)(P,{children:"p_brand (character)"}),Object(_.jsx)(P,{children:"p_type (character varying)"}),Object(_.jsx)(P,{children:"p_size (integer)"}),Object(_.jsx)(P,{children:"p_container (character)"}),Object(_.jsx)(P,{children:"p_retailprice (numeric)"}),Object(_.jsx)(P,{children:"p_comment (character varying)"})]},"5"),Object(_.jsxs)(C,{header:"partsupp",children:[Object(_.jsx)(P,{children:"ps_partkey (integer)"}),Object(_.jsx)(P,{children:"ps_suppkey (integer)"}),Object(_.jsx)(P,{children:"ps_availqty (integer)"}),Object(_.jsx)(P,{children:"ps_supplycost (numeric)"}),Object(_.jsx)(P,{children:"ps_comment (character varying)"})]},"6"),Object(_.jsxs)(C,{header:"region",children:[Object(_.jsx)(P,{children:"r_regionkey (integer)"}),Object(_.jsx)(P,{children:"r_name (character)"}),Object(_.jsx)(P,{children:"r_comment (character varying)"})]},"7"),Object(_.jsxs)(C,{header:"supplier",children:[Object(_.jsx)(P,{children:"s_suppkey (integer)"}),Object(_.jsx)(P,{children:"s_name (character)"}),Object(_.jsx)(P,{children:"s_address (character varying)"}),Object(_.jsx)(P,{children:"s_nationkey (integer)"}),Object(_.jsx)(P,{children:"s_phone (character)"}),Object(_.jsx)(P,{children:"s_acctbal (numeric)"}),Object(_.jsx)(P,{children:"s_mktsegment (character)"}),Object(_.jsx)(P,{children:"s_comment (character varying)"})]},"8")]})})]})},z=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,238)).then((function(c){var t=c.getCLS,n=c.getFID,r=c.getFCP,i=c.getLCP,a=c.getTTFB;t(e),n(e),r(e),i(e),a(e)}))};a.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(w,{})}),document.getElementById("root")),z()}},[[229,1,2]]]);
//# sourceMappingURL=main.f7c5a4cf.chunk.js.map