(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{140:function(e,t,n){},142:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(26),s=n.n(a),r=(n(140),n(216)),l=n(218),o=n(30),j=n(128),d=n(101),h=n(217),u=n(130),b=n(131),p=n(134),g=n(133),f=(n(142),n(20)),x=r.a.Title,O=r.a.Paragraph,y=h.a.TextArea,m=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(""),s=Object(o.a)(a,2),r=s[0],l=s[1],h=Object(c.useState)([]),m=Object(o.a)(h,2),v=m[0],P=m[1],S=Object(c.useState)(!1),C=Object(o.a)(S,2),T=C[0],N=C[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"main-container",children:[Object(f.jsxs)("div",{className:"sql-container",children:[Object(f.jsx)(x,{level:3,children:"Query Panel"}),Object(f.jsx)(j.a,{value:n,height:"280px",onChange:function(e){return i(e)},extensions:[Object(d.b)({dialect:d.a})],placeholder:"Input SQL Query here"}),Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:20},children:[Object(f.jsx)(b.a,{size:"large",type:"primary",onClick:function(){n.length<1?u.b.error("SQL Query must not be empty"):fetch("/api/get_query",{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n})}).then((function(e){return e.json()})).then((function(e){if(l(""),N(!1),P([]),0===e.error){var t=e.instructions,n="";console.log(e.instructions);for(var c=0;c<t.length;c++)n+="Step ".concat(c+1,": ").concat(t[c]," \n");l(n),function(e){var t=[],n=[],c=e.Plan,i=0,a=Math.floor(window.innerWidth/2)-115;console.log(JSON.stringify(e)),function e(c,s,r,l){var o=i;i++,t.push({id:"".concat(o),data:{label:c["Node Type"]},position:{x:s+a,y:r},draggable:!1,type:"default"}),void 0!==l&&n.push({id:"".concat(l,"-").concat(o),type:"straight",source:"".concat(l),target:"".concat(o)}),void 0!==c.Plans&&(1===c.Plans.length?e(c.Plans[0],s,r+100,o):2===c.Plans.length&&(e(c.Plans[0],s-125,r+100,o),e(c.Plans[1],s+125,r+100,o)))}(c,0,10),P([].concat(t,n))}(e.plan)}else u.b.error(e.error_message)}))},children:"Annotate"}),Object(f.jsx)(b.a,{size:"large",style:{marginLeft:10},onClick:function(){i(""),l(""),P([]),N(!1)},children:"Clear"})]})]}),Object(f.jsxs)("div",{className:"plan-container",children:[Object(f.jsx)("div",{className:"exe-plan",children:Object(f.jsxs)(x,{level:3,children:["Execution Plan",""!==r&&Object(f.jsx)(p.a,{style:{marginLeft:7,cursor:"pointer",fontSize:17},onClick:function(){r&&navigator.clipboard.writeText(r).then((function(){u.b.info("Successfully Copied Text")}))}})]})}),Object(f.jsx)(y,{value:r,style:{height:280}}),0!==v.length&&Object(f.jsx)(b.a,{size:"large",type:"primary",style:{marginTop:20},onClick:function(){N(!0)},children:"Visualise"})]})]}),T&&Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginTop:10},children:[Object(f.jsx)(x,{level:3,children:"Visualisation Panel"}),Object(f.jsx)(O,{children:"You can interact with the graph using pinch to zoom and dragging left and right."}),Object(f.jsx)(g.a,{elements:v,style:{height:400,marginTop:20}})]})]})},v=(n(212),r.a.Title),P=l.a.Header,S=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(P,{style:{display:"flex",alignItems:"center",backgroundColor:"#fff",boxShadow:"0 2px 8px #f0f1f2"},children:Object(f.jsx)(v,{style:{marginBottom:0},level:2,children:"QEP Annotator - Group 41"})}),Object(f.jsx)("div",{style:{padding:"20px 40px"},children:Object(f.jsx)(m,{})})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,219)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),a(e),s(e)}))};s.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(S,{})}),document.getElementById("root")),C()}},[[213,1,2]]]);
//# sourceMappingURL=main.e67545a8.chunk.js.map